<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>IOperationService.RegisterExternalOperation(TRequest, TResponse) Method (String, String, Func(ValueTuple(TRequest, String, Int32, Guid), TResponse), SerializationBinder, ISurrogateSelector)</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="M:Resto.Front.Api.IOperationService.RegisterExternalOperation``2(System.String,System.String,System.Func{System.ValueTuple{``0,System.String,System.Int32,System.Guid},``1},System.Runtime.Serialization.SerializationBinder,System.Runtime.Serialization.ISurrogateSelector)" /><meta name="Description" content="Exposes a custom operation to be available for call by other plugins. The registration is not permanent, it holds true until disposing the return value, or plugin shutdown." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Resto.Front.Api" /><meta name="file" content="M_Resto_Front_Api_IOperationService_RegisterExternalOperation__2" /><meta name="guid" content="M_Resto_Front_Api_IOperationService_RegisterExternalOperation__2" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.5.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Syrve POS API V7Preview7 Code Reference<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/N_Resto_Front_Api.htm" title="Syrve POS API V7Preview7 Code Reference" tocid="roottoc">Syrve POS API V7Preview7 Code Reference</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/N_Resto_Front_Api.htm" title="Resto.Front.Api" tocid="N_Resto_Front_Api">Resto.Front.Api</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/T_Resto_Front_Api_IOperationService.htm" title="IOperationService Interface" tocid="T_Resto_Front_Api_IOperationService">IOperationService Interface</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/Methods_T_Resto_Front_Api_IOperationService.htm" title="IOperationService Methods" tocid="Methods_T_Resto_Front_Api_IOperationService">IOperationService Methods</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/Overload_Resto_Front_Api_IOperationService_RegisterExternalOperation.htm" title="RegisterExternalOperation Method " tocid="Overload_Resto_Front_Api_IOperationService_RegisterExternalOperation">RegisterExternalOperation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/M_Resto_Front_Api_IOperationService_RegisterExternalOperation.htm" title="RegisterExternalOperation Method (String, String, Func(ValueTuple(Byte[], String, Int32, Guid), Byte[]))" tocid="M_Resto_Front_Api_IOperationService_RegisterExternalOperation">RegisterExternalOperation Method (String, String, Func(ValueTuple(Byte[], String, Int32, Guid), Byte[]))</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="../html/M_Resto_Front_Api_IOperationService_RegisterExternalOperation__2.htm" title="RegisterExternalOperation(TRequest, TResponse) Method (String, String, Func(ValueTuple(TRequest, String, Int32, Guid), TResponse), SerializationBinder, ISurrogateSelector)" tocid="M_Resto_Front_Api_IOperationService_RegisterExternalOperation__2">RegisterExternalOperation(TRequest, TResponse) Method (String, String, Func(ValueTuple(TRequest, String, Int32, Guid), TResponse), SerializationBinder, ISurrogateSelector)</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>IOperationService<span id="LSTD95307AD_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_0?cpp=::|nu=.");</script>RegisterExternalOperation<span id="LSTD95307AD_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_1?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><span class="typeparameter">TRequest</span>, <span class="typeparameter">TResponse</span><span id="LSTD95307AD_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_2?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script> Method (String, String, Func<span id="LSTD95307AD_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_3?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>ValueTuple<span id="LSTD95307AD_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_4?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><span class="typeparameter">TRequest</span>, String, Int32, Guid<span id="LSTD95307AD_5"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_5?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, <span class="typeparameter">TResponse</span><span id="LSTD95307AD_6"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_6?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, SerializationBinder, ISurrogateSelector)</h1></td></tr></table><span class="introStyle"></span> <div class="summary">
            Exposes a custom operation to be available for call by other plugins. The registration is not permanent, it holds true until disposing the return value, or plugin shutdown.
            </div><p> </p>
    <strong>Namespace:</strong> 
   <a href="N_Resto_Front_Api.htm">Resto.Front.Api</a><br />
    <strong>Assembly:</strong>
   Resto.Front.Api.V7Preview7 (in Resto.Front.Api.V7Preview7.dll)<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID1RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EACA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EACA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EACA');return false;" title="Copy">Copy</a></div></div><div id="ID0EACA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="identifier">IDisposable</span> <span class="identifier">RegisterExternalOperation</span>&lt;TRequest, TResponse&gt;(
	<span class="identifier">string</span> <span class="parameter">serviceName</span>,
	<span class="identifier">string</span> <span class="parameter">operationName</span>,
	<span class="identifier">Func</span>&lt;(TRequest , <span class="identifier">string</span> callerPluginName, <span class="identifier">int</span> callerPluginModuleId, <span class="identifier">Guid</span> callerTerminalId), TResponse&gt; <span class="parameter">callback</span>,
	<span class="identifier">SerializationBinder</span> <span class="parameter">binder</span> = <span class="keyword">null</span>,
	<span class="identifier">ISurrogateSelector</span> <span class="parameter">surrogateSelector</span> = <span class="keyword">null</span>
)
</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EACA");</script><h4 class="subHeading">Parameters</h4><dl><dt><span class="parameter">serviceName</span></dt><dd>Type: <a href="https://docs.microsoft.com/dotnet/api/system.string" target="_blank" rel="noopener noreferrer">System<span id="LSTD95307AD_7"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_7?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>String</a><br />
            Identifies the external service, just a namespace for a set of interrelated operations, which helps to group them logically. It's recommended to choose a unique name to avoid collisions with other plugins, i.e. include company's name or plugin's name into the service name. Min length is 1, max length is 50 chars.
            </dd><dt><span class="parameter">operationName</span></dt><dd>Type: <a href="https://docs.microsoft.com/dotnet/api/system.string" target="_blank" rel="noopener noreferrer">System<span id="LSTD95307AD_8"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_8?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>String</a><br />
            In aggregate with <span class="parameter">serviceName</span> identifies the operation. Both names have to be pre-shared with consumer plugins, so that they will be able to call the operation referring it by service and operation name. The combination of a service name and operation name must be unique at the same time. Min length is 1, max length is 50 chars.
            </dd><dt><span class="parameter">callback</span></dt><dd>Type: <a href="https://docs.microsoft.com/dotnet/api/system.func-2" target="_blank" rel="noopener noreferrer">System<span id="LSTD95307AD_9"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_9?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Func</a><span id="LSTD95307AD_10"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_10?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="https://docs.microsoft.com/dotnet/api/system.valuetuple-4" target="_blank" rel="noopener noreferrer">ValueTuple</a><span id="LSTD95307AD_11"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_11?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><span class="selflink"><span class="typeparameter">TRequest</span></span>, <a href="https://docs.microsoft.com/dotnet/api/system.string" target="_blank" rel="noopener noreferrer">String</a>, <a href="https://docs.microsoft.com/dotnet/api/system.int32" target="_blank" rel="noopener noreferrer">Int32</a>, <a href="https://docs.microsoft.com/dotnet/api/system.guid" target="_blank" rel="noopener noreferrer">Guid</a><span id="LSTD95307AD_12"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_12?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, <span class="selflink"><span class="typeparameter">TResponse</span></span><span id="LSTD95307AD_13"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_13?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><br />
            The operation implementation, which will be called by other plugins via <a href="M_Resto_Front_Api_IOperationService_CallExternalOperation__2.htm">CallExternalOperation<span id="LSTD95307AD_14"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_14?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>TRequest, TResponse<span id="LSTD95307AD_15"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_15?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>(Int32, String, String, TRequest, ITerminal, SerializationBinder, ISurrogateSelector)</a>.
            </dd><dt><span class="parameter">binder</span> (Optional)</dt><dd>Type: <a href="https://docs.microsoft.com/dotnet/api/system.runtime.serialization.serializationbinder" target="_blank" rel="noopener noreferrer">System.Runtime.Serialization<span id="LSTD95307AD_16"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_16?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>SerializationBinder</a><br />A serialization binder for custom mapping between types and names. Default is <span class="code">null</span>.</dd><dt><span class="parameter">surrogateSelector</span> (Optional)</dt><dd>Type: <a href="https://docs.microsoft.com/dotnet/api/system.runtime.serialization.isurrogateselector" target="_blank" rel="noopener noreferrer">System.Runtime.Serialization<span id="LSTD95307AD_17"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_17?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>ISurrogateSelector</a><br />The <a href="https://docs.microsoft.com/dotnet/api/system.runtime.serialization.isurrogateselector" target="_blank" rel="noopener noreferrer">ISurrogateSelector</a> to use for serialization. Default is <span class="code">null</span>.</dd></dl><h4 class="subHeading">Type Parameters</h4><dl><dt><span class="parameter">TRequest</span></dt><dd /><dt><span class="parameter">TResponse</span></dt><dd /></dl><h4 class="subHeading">Return Value</h4>Type: <a href="https://docs.microsoft.com/dotnet/api/system.idisposable" target="_blank" rel="noopener noreferrer">IDisposable</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Remarks</span></div><div id="ID2RBSection" class="collapsibleSection">
            Different plugins running under the same Syrve POS application instance can communicate via external operations. Syrve POS just transfers requests and responses between plugins without knowing any details. Both producer and consumer plugins should understand the data structure, developers should negotiate a protocol specification, pre-share operation names, handle versioning and so on. Producer plugin registers an operation using <span class="selflink">RegisterExternalOperation<span id="LSTD95307AD_18"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_18?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>TRequest, TResponse<span id="LSTD95307AD_19"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_19?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>(String, String, Func<span id="LSTD95307AD_20"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_20?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>ValueTuple<span id="LSTD95307AD_21"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_21?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>TRequest, String, Int32, Guid<span id="LSTD95307AD_22"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_22?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, TResponse<span id="LSTD95307AD_23"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_23?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, SerializationBinder, ISurrogateSelector)</span> and consumer plugin call it using <a href="M_Resto_Front_Api_IOperationService_CallExternalOperation__2.htm">CallExternalOperation<span id="LSTD95307AD_24"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_24?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>TRequest, TResponse<span id="LSTD95307AD_25"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_25?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>(Int32, String, String, TRequest, ITerminal, SerializationBinder, ISurrogateSelector)</a>.
            </div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID3RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="T_Resto_Front_Api_IOperationService.htm">IOperationService Interface</a></div><div class="seeAlsoStyle"><a href="Overload_Resto_Front_Api_IOperationService_RegisterExternalOperation.htm">RegisterExternalOperation Overload</a></div><div class="seeAlsoStyle"><a href="N_Resto_Front_Api.htm">Resto.Front.Api Namespace</a></div><div class="seeAlsoStyle"><a href="M_Resto_Front_Api_IOperationService_CallExternalOperation__2.htm">IOperationService<span id="LSTD95307AD_26"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_26?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>CallExternalOperation<span id="LSTD95307AD_27"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_27?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>TRequest, TResponse<span id="LSTD95307AD_28"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD95307AD_28?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>(Int32, String, String, TRequest, ITerminal, SerializationBinder, ISurrogateSelector)</a></div></div></div></div><div id="pageFooter" class="pageFooter"> </div></body></html>